const links=document.querySelectorAll(".grid a");let selectedImageIndex=0,isAnimating=!1;function updateSelection(){isAnimating||(isAnimating=!0,links.forEach(e=>{e.classList.remove("selected")}),links[selectedImageIndex].classList.add("selected"),links[selectedImageIndex].focus(),links[selectedImageIndex].scrollIntoView({behavior:"auto",block:"center",inline:"center"}),setTimeout(()=>{isAnimating=!1},100))}function openImage(){links[selectedImageIndex].click()}function handleKeydown(e){const n=Math.ceil(links.length/5),t=Math.floor(selectedImageIndex/5),d=selectedImageIndex%5;switch(e.key){case"ArrowUp":t>0&&(selectedImageIndex-=5);break;case"ArrowDown":t<n-1&&selectedImageIndex+5<links.length&&(selectedImageIndex+=5);break;case"ArrowLeft":d>0&&(selectedImageIndex-=1);break;case"ArrowRight":d<4&&selectedImageIndex+1<links.length&&(selectedImageIndex+=1);break;case"Enter":return void openImage();default:return}e.preventDefault(),localStorage.setItem("lastSelectedIndex",selectedImageIndex),updateSelection()}links.forEach((e,n)=>{e.addEventListener("focus",()=>{selectedImageIndex=n,updateSelection()}),e.addEventListener("mouseenter",()=>{selectedImageIndex=n,updateSelection()})}),window.addEventListener("load",()=>{const e=localStorage.getItem("lastSelectedIndex");null!==e&&(selectedImageIndex=parseInt(e,10),selectedImageIndex>=links.length&&(selectedImageIndex=0)),updateSelection()}),document.addEventListener("keydown",handleKeydown);